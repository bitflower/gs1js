{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/ApplicationIdentifier.js","dist/GS1Reader.js","dist/Helpers/GS1Assets.js","dist/Helpers/GS1Helpers.js","dist/Helpers/Helpers.js","src/index.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA","file":"gs1.js.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\nvar ApplicationIdentifier = (function () {\n    function ApplicationIdentifier(identifier, value) {\n        this.identifier = identifier;\n        this.value = value;\n        this.length = value.length;\n    }\n    return ApplicationIdentifier;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ApplicationIdentifier;\n","\"use strict\";\nvar helpers = require('./Helpers/Helpers');\nvar gs1helpers = require('./Helpers/GS1Helpers');\nvar GS1Reader = (function () {\n    function GS1Reader(code, bytes) {\n        if (bytes === void 0) { bytes = []; }\n        this.code = code;\n        this.bytes = bytes;\n        this.checkBytes();\n        this.hasidentifiers = false;\n        this.lookup = {};\n        this.extractIdentifiers();\n    }\n    GS1Reader.prototype.checkBytes = function () {\n        if (!this.bytes || this.bytes.length === 0) {\n            this.bytes = helpers.getASCIIArray(this.code);\n        }\n        this.bytes = gs1helpers.cleanStart(this.bytes);\n        this.code = helpers.bin2String(this.bytes);\n    };\n    GS1Reader.prototype.extractIdentifiers = function () {\n        this.identifiers = gs1helpers.extractIds(this.code);\n        this.hasidentifiers = this.identifiers.length > 0;\n        for (var i = 0, len = this.identifiers.length; i < len; i++) {\n            this.lookup[this.identifiers[i].identifier] = this.identifiers[i];\n        }\n    };\n    GS1Reader.prototype.getApplicationIdentifiers = function () {\n        return this.identifiers;\n    };\n    GS1Reader.prototype.getApplicationIdentifierById = function (id) {\n        return this.lookup[id];\n    };\n    return GS1Reader;\n}());\nexports.GS1Reader = GS1Reader;\n","\"use strict\";\nvar GS1Assets = (function () {\n    function GS1Assets() {\n    }\n    GS1Assets.FIXED_LENGTH_IDENTIFIERS = [{\n            ai: '00',\n            length: 20\n        }, {\n            ai: '01',\n            length: 16\n        }, {\n            ai: '02',\n            length: 16\n        }, {\n            ai: '03',\n            length: 16\n        }, {\n            ai: '04',\n            length: 18\n        }, {\n            ai: '11',\n            length: 8\n        }, {\n            ai: '12',\n            length: 8\n        }, {\n            ai: '13',\n            length: 8\n        }, {\n            ai: '14',\n            length: 8\n        }, {\n            ai: '15',\n            length: 8\n        }, {\n            ai: '16',\n            length: 8\n        }, {\n            ai: '17',\n            length: 8\n        }, {\n            ai: '18',\n            length: 8\n        }, {\n            ai: '19',\n            length: 8\n        }, {\n            ai: '20',\n            length: 4\n        }, {\n            ai: '31',\n            length: 10\n        }, {\n            ai: '32',\n            length: 10\n        }, {\n            ai: '33',\n            length: 10\n        }, {\n            ai: '34',\n            length: 10\n        }, {\n            ai: '35',\n            length: 10\n        }, {\n            ai: '36',\n            length: 10\n        }, {\n            ai: '41',\n            length: 16\n        }];\n    GS1Assets.getFixedLengthIdentifier = function (ai) {\n        for (var i = 0, l = this.FIXED_LENGTH_IDENTIFIERS.length; i < l; i++) {\n            if (this.FIXED_LENGTH_IDENTIFIERS[i].ai === ai) {\n                return this.FIXED_LENGTH_IDENTIFIERS[i];\n            }\n        }\n        return null;\n    };\n    return GS1Assets;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = GS1Assets;\n","\"use strict\";\nvar helpers = require('./Helpers');\nvar GS1Assets_1 = require('./GS1Assets');\nvar ApplicationIdentifier_1 = require('../ApplicationIdentifier');\nfunction splitBinAtGS(bytes, gs) {\n    var parts = [];\n    var start = 0;\n    for (var i = 0; i <= gs.length; i++) {\n        if (i < gs.length) {\n            parts.push(bytes.slice(start, gs[i]));\n            start = gs[i] + 1;\n        }\n        else {\n            parts.push(bytes.slice(start));\n        }\n    }\n    return parts;\n}\nexports.splitBinAtGS = splitBinAtGS;\nfunction cleanStart(bytes) {\n    if (bytes && bytes.length > 0 && bytes[0] == 29) {\n        bytes.shift();\n    }\n    return bytes;\n}\nexports.cleanStart = cleanStart;\nfunction extractIds(code) {\n    if (code.length <= 1) {\n        return [];\n    }\n    var codeWorking = code;\n    var ids = [];\n    var gap = 1;\n    var startPos = 0;\n    while (startPos < codeWorking.length) {\n        if (gap > 300) {\n            break;\n        }\n        var guessAI = codeWorking.substr(startPos, gap);\n        var binArray = helpers.getASCIIArray(guessAI);\n        var isGS = binArray[binArray.length - 1] == 29;\n        if (!isGS) {\n            var fixedLengthAI = GS1Assets_1.default.getFixedLengthIdentifier(guessAI);\n            if (!fixedLengthAI) {\n                if (startPos + gap >= codeWorking.length) {\n                    var dynamicAI = codeWorking.substr(startPos, gap);\n                    var id = dynamicAI.substr(0, 2);\n                    var value = dynamicAI.substr(2);\n                    ids.push(new ApplicationIdentifier_1.default(id, value));\n                    break;\n                }\n                gap++;\n            }\n            else {\n                var lenId = fixedLengthAI.ai.length;\n                var idValue = codeWorking.substr(startPos + lenId, fixedLengthAI.length - lenId);\n                ids.push(new ApplicationIdentifier_1.default(fixedLengthAI.ai, idValue));\n                startPos += fixedLengthAI.length;\n                gap = 1;\n            }\n        }\n        else {\n            var dynamicAI = codeWorking.substr(startPos, gap);\n            var id = dynamicAI.substr(0, 2);\n            var value = dynamicAI.substr(2);\n            value = value.substr(0, value.length - 1);\n            ids.push(new ApplicationIdentifier_1.default(id, value));\n            startPos += gap;\n            gap = 1;\n        }\n    }\n    return ids;\n}\nexports.extractIds = extractIds;\n","\"use strict\";\nfunction getASCIIArray(str) {\n    var asciiArray = [];\n    for (var i = 0; i < str.length; i++) {\n        asciiArray.push(str.charCodeAt(i));\n    }\n    return asciiArray;\n}\nexports.getASCIIArray = getASCIIArray;\nfunction bin2String(array) {\n    return String.fromCharCode.apply(String, array);\n}\nexports.bin2String = bin2String;\n","var gs1js = require('../dist/GS1Reader');\n\n// Offer the package to the global scope\nwindow.gs1js = gs1js;"]}